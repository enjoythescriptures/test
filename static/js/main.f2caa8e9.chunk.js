(window.webpackJsonpenjoythescriptures=window.webpackJsonpenjoythescriptures||[]).push([[0],{31:function(e,t,a){e.exports=a(64)},39:function(e,t,a){},40:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);a(32),a(33),a(35),a(36),a(37),a(38),a(39),a(40);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),s=a(26),o=a.n(s),i=a(12),u=a(11),m=a(7);var p=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"About"),r.a.createElement("p",null,"Enjoy the Scriptures."))};var E=function(){return r.a.createElement("img",{alt:"A pathway with trees on either side in autumn",src:"/background.jpg",style:{position:"fixed",top:0,zIndex:-1,width:"100%",height:"100%",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",opacity:"0.9"}})};function d(e){return e.replace(/_/g," ")}var h=function(e){var t=["home"].concat(e.location.pathname.substring(1).split("/").filter((function(e){return""!==e}))),a="#",n=t.map((function(e,n){var c=n===t.length-1;n>0&&(a+="/"+e);var l=r.a.createElement("a",{href:a},d(e)),s="breadcrumb-item text-capitalize";return c&&(s+=" active",l=d(e)),r.a.createElement("li",{key:a,className:s},l)}));return r.a.createElement("div",{style:{backgroundColor:"#e9ecef"}},r.a.createElement("div",{className:"container"},r.a.createElement("ol",{className:"breadcrumb",style:{marginBottom:"0"}},n)))},f=a(1),v=a.n(f);var g={apiKey:"AIzaSyDcWkM-EwFO9BrLbHAiZf_NcPKT1jg_B4M",authDomain:"enjoy-the-scriptures-test.firebaseapp.com",databaseURL:"https://enjoy-the-scriptures-test.firebaseio.com",projectId:"enjoy-the-scriptures-test",storageBucket:"enjoy-the-scriptures-test.appspot.com",messagingSenderId:"854443437513",appId:"1:854443437513:web:b0f58f35a8d4a823c64c18",measurementId:"G-EDCKCQPLL0"},b=v.a.initializeApp(g),N=(a(24),a(56),v.a.firestore(b));function y(e,t){switch(t.type){case"LOGGED_OUT":return{user:null,status:"LOGGED_OUT"};case"PENDING":return{user:t.user,status:"PENDING"};case"LOGGED_IN":return{user:t.user,status:"LOGGED_IN"};case"UNAUTHORIZED":return{user:t.user,status:"UNAUTHORIZED"};default:throw new Error}}var I=function(){var e=r.a.useReducer(y,{user:null,status:"LOGGED_OUT"}),t=Object(i.a)(e,2),a=t[0],n=t[1];return r.a.useEffect((function(){return v.a.auth().onAuthStateChanged((function(e){null===e?n({type:"LOGGED_OUT"}):(n({type:"PENDING",user:e}),function(e){var t=N.collection("users").doc(e);return new Promise((function(e,a){t.get().then((function(t){t.exists&&!0===t.data().admin?e(!0):e(!1)})).catch((function(e){console.error("Error getting document: ",e),a(e)}))}))}(e.email).then((function(t){n(t?{type:"LOGGED_IN",user:e}:{type:"UNAUTHORIZED",user:e})})))}))}),[]),a};var O=Object(m.g)((function(e){var t,a=I(),n="#/login?return="+e.location.pathname;return"LOGGED_OUT"===a.status&&(t=r.a.createElement("a",{className:"text-muted",href:n},"Login")),r.a.createElement("footer",{className:"page-footer font-small bg-light fixed-bottom"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"footer-copyright text-center py-2"},r.a.createElement("span",{className:"mr-1"},"\xa9 2019 Copyright:"),r.a.createElement("a",{href:"https://test.enjoythescriptures.org"},"https://test.enjoythescriptures.org".replace("https://",""))),r.a.createElement("div",{className:"text-center py-2"},t)))}));var G=function(){return null},D=a(29),w=a.n(D),x={signInFlow:"popup",signInOptions:[v.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}};var U=function(e){var t=I();r.a.useEffect((function(){"UNAUTHORIZED"===t.status&&t.user.delete().catch((function(e){console.log("An error occurred while deleting an unauthorized user. ",e)}))}),[t]);var a=e.location.search.split("=")[1];return void 0!==a&&""!==a||(a="/"),"UNAUTHORIZED"===t.status?r.a.createElement(m.a,{to:"/unauthorized"}):"LOGGED_IN"===t.status?r.a.createElement(m.a,{to:a}):r.a.createElement("div",null,r.a.createElement(w.a,{uiConfig:x,firebaseAuth:v.a.auth()}))};var A=function(){var e=I();return"LOGGED_IN"===e.status?r.a.createElement("form",{className:"form-inline my-2 my-lg-0"},r.a.createElement("span",{className:"text-light my-2 mr-sm-2"},e.user.email),r.a.createElement("button",{className:"btn btn-success my-2 my-sm-0",onClick:function(){return v.a.auth().signOut()},type:"submit"},"Logout")):r.a.createElement(r.a.Fragment,null)};var T=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},r.a.createElement("div",{className:"container"},r.a.createElement("a",{className:"navbar-brand",href:"#/"},"Enjoy the Scriptures"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"#/scriptures"},"Scriptures")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"#/topics"},"Topics")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"#/about"},"About"))),r.a.createElement(A,null))))};var j=function(){return r.a.createElement("div",{className:"alert alert-warning"},r.a.createElement("h4",{className:"alert-heading"},"Not Found"),r.a.createElement("p",{className:"mb-0"},"The requested page does not exist."),r.a.createElement("a",{href:"#/",className:"alert-link"},"Return Home"))};var k=function(){return r.a.createElement("div",{className:"alert alert-danger"},r.a.createElement("h4",{className:"alert-heading"},"User Not Found"),r.a.createElement("p",{className:"mb-0"},"You are not authorized to access this resource."),r.a.createElement("a",{className:"alert-link",href:"#/"},"Return Home"))},L=r.a.createContext({});var S=function(e){var t=e.folderId;return r.a.createElement("div",null,r.a.createElement("iframe",{title:"test",src:"https://drive.google.com/embeddedfolderview?id="+t+"#list",style:{width:"100%",height:"600px",border:0}}))};var _=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Gospel Topics Library"),r.a.createElement(S,{folderId:"1XHu6wTqqMoSdVmUNKZoDU-Zd6cszCf5d"}))};var C=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Scriptures"),r.a.createElement(S,{folderId:"1T5JnrSZIdtc-TKlcqUT9Jv4jw635AUKS"}))};function R(){return r.a.createElement("header",{className:"coming-soon"},r.a.createElement("h1",{className:"py-4 font-weight-bold"},"Enjoy the Scriptures"),r.a.createElement("p",{className:"py-4 font-weight-bold"},"Coming Soon"))}var z=function(){var e=I(),t=r.a.useState({first:0,last:0}),a=Object(i.a)(t,2),n=a[0],c=a[1],l={highlight:n,updateHighlight:function(e,t){return c({first:e,last:t})}};return"LOGGED_OUT"===e.status?r.a.createElement(u.a,{basename:"/"},r.a.createElement("div",{className:"App"},r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/login",component:U}),r.a.createElement(m.b,{component:R})))):r.a.createElement(u.a,{basename:"/"},r.a.createElement("div",{className:"App"},r.a.createElement(T,null),r.a.createElement(m.b,{path:"/",component:h}),r.a.createElement(m.b,{exact:!0,path:"/",component:E}),r.a.createElement(L.Provider,{value:l},r.a.createElement("div",{className:"container py-5"},r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:G}),r.a.createElement(m.b,{exact:!0,path:"/about",component:p}),r.a.createElement(m.b,{exact:!0,path:"/scriptures",component:C}),r.a.createElement(m.b,{exact:!0,path:"/topics",component:_}),r.a.createElement(m.b,{exact:!0,path:"/login",component:U}),r.a.createElement(m.b,{exact:!0,path:"/unauthorized",component:k}),r.a.createElement(m.b,{exact:!0,path:"/not_found",component:j}),r.a.createElement(m.a,{to:"/not_found"})))),r.a.createElement("div",{className:"my-5"}),r.a.createElement(O,null)))};o.a.setAppElement("#root"),l.a.render(r.a.createElement(z,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.f2caa8e9.chunk.js.map