{"version":3,"sources":["components/pages/AboutPage.js","components/Background.js","components/LoadingBar.js","firebase/FirebaseConfig.js","model/Verse.js","firebase/Scriptures.js","components/pages/BookListPage.js","components/Breadcrumb.js","components/pages/ChapterListPage.js","components/VerseHighlightContext.js","components/SingleVerse.js","components/pages/ChapterTextPage.js","firebase/FirebaseUser.js","components/Footer.js","components/pages/HomePage.js","util/ContentId.js","firebase/Insights.js","components/FragmentSelector.js","components/InsightEditor.js","components/SingleInsight.js","components/InsightEditorModal.js","util/InsightGroups.js","components/InsightGroup.js","components/InsightList.js","components/pages/InsightListPage.js","components/pages/LoginPage.js","components/UserStatus.js","components/Navbar.js","components/pages/NotFoundPage.js","components/pages/UnauthorizedPage.js","components/pages/VolumeListPage.js","components/App.js","index.js"],"names":["AboutPage","Background","alt","src","style","position","top","zIndex","width","height","backgroundPosition","backgroundRepeat","backgroundSize","opacity","LoadingBar","className","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseApp","firebase","initializeApp","Verse","volumeName","bookName","chapter","number","text","this","volume","book","n","join","db","firestore","volumes","books","chapterCounts","verseCounts","verses","buildVerseList","Object","keys","map","Scriptures","cb","length","doc","get","then","data","catch","err","console","error","fetchVolumes","undefined","fetchBooks","chapterCount","fetchChapterCount","verseCount","toString","fetchVerseCount","collection","querySnapshot","docs","forEach","id","fetchVerses","verse","getVerses","verseList","BookListPage","content","match","params","React","useState","setBooks","scriptures","useEffect","getBooks","label","href","key","role","replace","buildButton","toBreadcrumb","segment","Breadcrumb","props","segments","concat","location","pathname","substring","split","filter","seg","crumbs","s","i","last","classNames","backgroundColor","marginBottom","ChapterListPage","setChapterCount","getChapterCount","c","push","VerseHighlightContext","createContext","SingleVerse","clickHandler","clickable","redirect","setRedirect","highlightContext","useContext","divStyle","getHref","to","verseContent","h","highlight","first","words","slice","onClick","ChapterTextPage","setVerses","v","firebaseUserReducer","state","action","type","user","status","Error","useFirebaseUser","useReducer","dispatch","auth","onAuthStateChanged","email","docRef","Promise","resolve","reject","exists","userIsAuthorized","isAuthorized","withRouter","loginButton","userState","process","HomePage","assemble","pieces","getContentId","buildInsight","deltaOps","source","link","created","toDate","updated","fragment","Insights","cid","where","insight","o","l","a","u","FieldValue","serverTimestamp","f","add","set","FragmentSelector","setInsight","sliderRef","createRef","lastWord","sliderNode","current","noUiSlider","create","start","connect","range","step","on","values","handle","updateHighlight","destroy","htmlFor","ref","InsightEditor","toggle","editorRef","isSubmitting","setSubmitting","insights","quill","Quill","theme","placeholder","setContents","d","od","getContents","ops","onSubmit","event","saveInsight","preventDefault","required","value","onChange","target","disabled","SingleInsight","rel","insightHtml","QuillDeltaToHtmlConverter","convert","onMouseEnter","onMouseLeave","parse","getMonth","getDate","getFullYear","InsightEditorModal","editing","isOpen","getContent","compareInsightsByFragmentAndSource","b","compareIdx","r","localeCompare","groupInsights","sort","groups","g","f1","f2","Array","from","groupInsightsByFragment","InsightGroup","insightGroup","phrase","idx","btn","clear","InsightList","insightContent","ig","DEFAULT_INSIGHT","InsightListPage","verseNumber","setVerse","setInsights","newInsight","setNewInsight","setEditing","setHighlight","contextState","toggleEditing","insightsStore","getVerse","getInsights","Provider","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","LoginPage","delete","log","returnTo","search","firebaseAuth","UserStatus","signOut","Navbar","data-toggle","data-target","aria-controls","aria-expanded","aria-label","NotFoundPage","UnauthorizedPage","VolumeListPage","setVolumes","getVolumes","ComingSoonPage","App","basename","exact","path","component","ReactModal","setAppElement","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.208f4721.chunk.js","sourcesContent":["import React from 'react';\n\nfunction AboutPage() {\n  return (\n    <div>\n      <h2>About</h2>\n      <p>\n        Enjoy the Scriptures.\n      </p>\n    </div>\n  )\n}\n\nexport default AboutPage\n","import React from 'react';\n\nfunction Background() {\n  const style = {\n    position: 'fixed',\n    top: 0,\n    zIndex: -1,\n    width: '100%',\n    height: '100%',\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n    opacity: '0.9'\n  }\n\n  return (\n    <img alt=\"A pathway with trees on either side in autumn\" src=\"/background.jpg\" style={style} />\n  )\n}\n\nexport default Background\n","import React from 'react'\n\nfunction LoadingBar() {\n  return (\n    <div className=\"col text-center\">\n      <img alt=\"loading\" src=\"loader.gif\" />\n    </div>\n  )\n}\n\nexport default LoadingBar\n","import firebase from 'firebase/app'\n\nvar devFirebaseConfig = {\n  apiKey: \"AIzaSyDkKbOrGudHylmvFiRMW4SkwxXlFxQt-l4\",\n  authDomain: \"enjoy-the-scriptures-dev.firebaseapp.com\",\n  databaseURL: \"https://enjoy-the-scriptures-dev.firebaseio.com\",\n  projectId: \"enjoy-the-scriptures-dev\",\n  storageBucket: \"\",\n  messagingSenderId: \"160411774173\",\n  appId: \"1:160411774173:web:24609264832f2816d1ff34\",\n  measurementId: \"G-JWEZ0Y38BM\"\n};\n\nvar testFirebaseConfig = {\n  apiKey: \"AIzaSyDcWkM-EwFO9BrLbHAiZf_NcPKT1jg_B4M\",\n  authDomain: \"enjoy-the-scriptures-test.firebaseapp.com\",\n  databaseURL: \"https://enjoy-the-scriptures-test.firebaseio.com\",\n  projectId: \"enjoy-the-scriptures-test\",\n  storageBucket: \"\",\n  messagingSenderId: \"854443437513\",\n  appId: \"1:854443437513:web:b0f58f35a8d4a823c64c18\",\n  measurementId: \"G-EDCKCQPLL0\"\n};\n\nvar prodFirebaseConfig = {\n  apiKey: \"AIzaSyCJ8QdL00_QZlNHsdlLo_z_ROHV550HN20\",\n  authDomain: \"enjoy-the-scriptures.firebaseapp.com\",\n  databaseURL: \"https://enjoy-the-scriptures.firebaseio.com\",\n  projectId: \"enjoy-the-scriptures\",\n  storageBucket: \"enjoy-the-scriptures.appspot.com\",\n  messagingSenderId: \"812786960298\",\n  appId: \"1:812786960298:web:5692ec20094481a1304dd3\",\n  measurementId: \"G-Q6Q0Z99K1H\"\n};\n\nfunction getFirebaseConfig() {\n  const config = process.env.REACT_APP_FIREBASE_CONFIG\n  if (config === 'production') {\n    return prodFirebaseConfig\n  }\n  else if (config === 'test') {\n    return testFirebaseConfig\n  }\n  else {\n    return devFirebaseConfig\n  }\n}\n\nconst firebaseConfig = getFirebaseConfig()\nconst firebaseApp = firebase.initializeApp(firebaseConfig)\n\nexport default firebaseApp\n","class Verse {\n  constructor(volumeName, bookName, chapter, number, text) {\n    this.volume = volumeName\n    this.book = bookName\n    this.chapter = chapter\n    this.n = number\n    this.text = text\n  }\n\n  getHref() {\n    return ['/scriptures', this.volume, this.book, this.chapter, this.n].join('/')\n  }\n\n  getContent() {\n    return [this.volume, this.book, this.chapter, this.n]\n  }\n}\n\nexport default Verse\n","import firebase from 'firebase/app'\nimport firebaseApp from './FirebaseConfig'\n\nimport 'firebase/firestore'\nimport Verse from '../model/Verse'\n\nconst db = firebase.firestore(firebaseApp)\n\nlet volumes = []\nlet books = {}\nlet chapterCounts = {}\nlet verseCounts = {}\nlet verses = {}\n\nfunction fetchVolumes(cb) {\n  db.doc('scriptures/index').get().then(function (doc) {\n    volumes = doc.data()['volumes']\n    cb(volumes)\n  }).catch(function (err) {\n    console.error('Error fetching volumes: ', err)\n  })\n}\n\nfunction fetchBooks(volume, cb) {\n  db.doc('scriptures/index/volumes/' + volume).get().then(function (doc) {\n    books[volume] = doc.data()['books']\n    cb(books[volume])\n  }).catch(function (err) {\n    console.error('Error fetching books for volume: ', volume, err)\n  })\n}\n\nfunction fetchChapterCount(volume, book, cb) {\n  db.doc('scriptures/index/volumes/' + volume + '/books/' + book).get().then(function (doc) {\n    const chapterCount = doc.data()['chapters']\n    chapterCounts[volume] = {}\n    chapterCounts[volume][book] = chapterCount\n    cb(chapterCount)\n  }).catch(function (err) {\n    console.error('Error fetching chapter count for ' + volume + ', ' + book, err)\n  })\n}\n\nfunction fetchVerseCount(volume, book, chapter, cb) {\n  db.doc('scriptures/index/volumes/' + volume + '/books/' + book + '/chapters/' + chapter).get().then(function (doc) {\n    const verseCount = doc.data()['verses']\n    verseCounts[volume] = {}\n    verseCounts[volume][book] = {}\n    verseCounts[volume][book][chapter.toString()] = verseCount\n    cb(verseCount)\n  }).catch(function (err) {\n    console.error('Error fetching verse count for ' + volume + ', ' + book + ', chapter ' + chapter, err)\n  })\n}\n\nfunction fetchVerses(volume, book, chapter, cb) {\n  if (verses[volume] === undefined) verses[volume] = {}\n  if (verses[volume][book] === undefined) verses[volume][book] = {}\n  if (verses[volume][book][chapter] === undefined) verses[volume][book][chapter] = {}\n\n  db.collection('scriptures/index/volumes/' + volume + '/books/' + book + '/chapters/' + chapter + '/verses').get().then(function (querySnapshot) {\n    querySnapshot.docs.forEach(function (doc) {\n      verses[volume][book][chapter][doc.id] = doc.data()['text']\n    })\n\n    cb(buildVerseList(volume, book, chapter))\n  }).catch(function (err) {\n    console.error('Error fetching verses for ' + volume + ', ' + book + ', chapter ' + chapter, err)\n  })\n}\n\nfunction buildVerseList(volume, book, chapter) {\n  return Object.keys(verses[volume][book][chapter]).map(function (n) {\n    return new Verse(volume, book, chapter, n, verses[volume][book][chapter][n])\n  })\n}\n\nclass Scriptures {\n\n  getVolumes(cb) {\n    if (volumes.length === 0) {\n      fetchVolumes(cb)\n    }\n    else {\n      cb(volumes)\n    }\n  }\n\n  getBooks(volume, cb) {\n    if (books[volume] === undefined || books[volume].length === 0) {\n      fetchBooks(volume, cb)\n    }\n    else {\n      cb(books[volume])\n    }\n  }\n\n  getChapterCount(volume, book, cb) {\n    if (chapterCounts[volume] === undefined || chapterCounts[volume][book] === undefined) {\n      fetchChapterCount(volume, book, cb)\n    }\n    else {\n      cb(chapterCounts[volume][book])\n    }\n  }\n\n  getVerseCount(volume, book, chapter, cb) {\n    if (verseCounts[volume] === undefined ||\n      verseCounts[volume][book] === undefined ||\n      verseCounts[volume][book][chapter] === undefined) {\n      fetchVerseCount(volume, book, chapter, cb)\n    }\n    else {\n      cb(verseCounts[volume][book][chapter])\n    }\n  }\n\n  getVerses(volume, book, chapter, cb) {\n    if (verses[volume] === undefined ||\n      verses[volume][book] === undefined ||\n      verses[volume][book][chapter] === undefined) {\n      fetchVerses(volume, book, chapter, cb)\n    }\n    else {\n      cb(buildVerseList(volume, book, chapter))\n    }\n  }\n\n  getVerse(volume, book, chapter, verse, cb) {\n    this.getVerses(volume, book, chapter, function (verseList) {\n      cb(verseList[verse - 1])\n    })\n  }\n}\n\nexport default Scriptures\n","import React from 'react'\n\nimport LoadingBar from '../LoadingBar'\nimport Scriptures from '../../firebase/Scriptures'\n\nfunction buildButton(volume, label) {\n  const classes = \"text-capitalize text-white btn btn-success btn-lg\"\n  const href = '#/scriptures/' + volume + '/' + label\n\n  return (\n    <div key={href} className=\"col-sm text-center text-nowrap p-3\">\n      <a href={href} role=\"button\" className={classes}>{label.replace(/_/g, ' ')}</a>\n    </div>\n  )\n}\n\nfunction BookListPage({ match: { params: { volume } } }) {\n  const [books, setBooks] = React.useState([])\n  const scriptures = new Scriptures()\n\n  React.useEffect(() => {\n    scriptures.getBooks(volume, setBooks)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  let content;\n  if (books.length === 0) {\n    content = <LoadingBar />\n  }\n  else {\n    content = books.map(label => buildButton(volume, label))\n  }\n\n  return (\n    <div>\n      <h2 className=\"text-capitalize\">{volume.replace(/_/g, ' ')}</h2>\n      <div className=\"row\">\n        {content}\n      </div>\n    </div>\n  )\n}\n\nexport default BookListPage\n","import React from 'react'\n\nfunction toBreadcrumb(segment) {\n  return segment.replace(/_/g, ' ')\n}\n\nfunction Breadcrumb(props) {\n  const segments = ['home'].concat(props.location.pathname.substring(1).split('/').filter(seg => seg !== \"\"))\n  let href = '#'\n  const crumbs = segments.map(function (s, i) {\n    let last = i === segments.length - 1\n\n    if (i > 0) {\n      href += '/' + s\n    }\n\n    let label = <a href={href}>{toBreadcrumb(s)}</a>\n\n    let classNames = \"breadcrumb-item text-capitalize\"\n    if (last) {\n      classNames += \" active\"\n      label = toBreadcrumb(s)\n    }\n\n    return (\n      <li key={href} className={classNames}>\n        {label}\n      </li>\n    )\n  })\n\n  return (\n    <div style={{ backgroundColor: '#e9ecef' }}>\n      <div className=\"container\">\n        <ol className=\"breadcrumb\" style={{ marginBottom: '0' }}>\n          {crumbs}\n        </ol>\n      </div>\n    </div>\n  )\n}\n\nexport default Breadcrumb\n","import React from 'react'\n\nimport LoadingBar from '../LoadingBar'\nimport Scriptures from '../../firebase/Scriptures'\n\nfunction buildButton(volume, book, chapter) {\n  const classes = \"text-capitalize text-white btn btn-success btn-lg\"\n  const href = '#/scriptures/' + volume + '/' + book + '/' + chapter\n\n  return (\n    <div key={href} className=\"col text-center text-nowrap p-3\">\n      <a href={href} role=\"button\" className={classes}>{chapter}</a>\n    </div>\n  )\n}\n\nfunction ChapterListPage({ match: { params: { volume, book } } }) {\n  const [chapterCount, setChapterCount] = React.useState(0)\n  const scriptures = new Scriptures()\n\n  React.useEffect(() => {\n    scriptures.getChapterCount(volume, book, setChapterCount)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  let content;\n  if (chapterCount === 0) {\n    content = <LoadingBar />\n  }\n  else {\n    content = []\n    for (let c = 1; c <= chapterCount; c++) {\n      content.push(buildButton(volume, book, c))\n    }\n  }\n\n  return (\n    <div>\n      <h3 className=\"text-capitalize\">{book.replace(/_/g, ' ')}</h3>\n      <div className=\"row\">\n        {content}\n      </div>\n    </div>\n  )\n}\n\nexport default ChapterListPage\n","import React from 'react'\n\nconst VerseHighlightContext = React.createContext({});\n\nexport default VerseHighlightContext\n","import { Redirect } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport React from 'react'\n\nimport Verse from '../model/Verse'\nimport VerseHighlightContext from './VerseHighlightContext'\n\nfunction SingleVerse({ verse, clickable }) {\n  const [redirect, setRedirect] = React.useState()\n  const highlightContext = React.useContext(VerseHighlightContext)\n\n  let divStyle = \"m-1 p-1 rounded \"\n  if (clickable) {\n    divStyle += \" clickable-verse\"\n  }\n\n  let clickHandler;\n  if (clickable) {\n    clickHandler = () => setRedirect(verse.getHref())\n  }\n\n  if (redirect !== undefined) {\n    return <Redirect to={redirect} />\n  }\n\n  let verseContent = verse.text\n  const h = highlightContext.highlight\n  if (h !== undefined && h.first !== h.last) {\n    const words = verse.text.split(' ')\n    verseContent = [\n      <span key=\"before\">{words.slice(0, h.first).join(' ') + ' '}</span>,\n      <span key=\"highlighted\" className=\"verse-highlight rounded\">\n        {words.slice(h.first, h.last).join(' ')}\n      </span>,\n      <span key=\"after\">{' ' + words.slice(h.last).join(' ')}</span>\n    ]\n  }\n\n  return (\n    <div className={divStyle} onClick={clickHandler}>\n      <p className=\"text-justify\">\n        <span className=\"font-weight-bold mr-1\">{verse.n}</span>\n        <span>{verseContent}</span>\n      </p>\n    </div>\n  )\n}\n\nSingleVerse.propTypes = {\n  verse: PropTypes.instanceOf(Verse).isRequired,\n  clickable: PropTypes.bool\n}\n\nexport default SingleVerse\n","import React from 'react'\n\nimport LoadingBar from '../LoadingBar'\nimport Scriptures from '../../firebase/Scriptures'\nimport SingleVerse from '../SingleVerse'\n\nfunction ChapterTextPage({ match: { params: { volume, book, chapter } } }) {\n  const [verses, setVerses] = React.useState([])\n  const scriptures = new Scriptures()\n\n  React.useEffect(() => {\n    scriptures.getVerses(volume, book, chapter, setVerses)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  let content;\n  if (verses.length === 0) {\n    content = <LoadingBar />\n  }\n  else {\n    content = verses.map(v => <SingleVerse key={v.getHref()} verse={v} clickable={true}/>)\n  }\n\n  return (\n    <div>\n      <div className=\"row\">\n        <div className=\"col-lg-6 col-md-6 col-sm-12\">\n          <h4 className=\"text-capitalize\">{book.replace(/_/g, ' ')} {chapter}</h4>\n          <hr />\n          {content}\n          <hr/>\n        </div>\n        <div className=\"col-lg-6 col-md-6 col-sm-12\">\n          <h4 className=\"text-capitalize\">insights</h4>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ChapterTextPage\n","import React from 'react'\nimport firebase from 'firebase/app'\nimport firebaseApp from '../firebase/FirebaseConfig'\n\nimport 'firebase/auth'\nimport 'firebase/firestore'\n\nconst db = firebase.firestore(firebaseApp)\n\nfunction userIsAuthorized(email) {\n  const docRef = db.collection('users').doc(email)\n\n  return new Promise((resolve, reject) => {\n    docRef.get().then((doc) => {\n      if (doc.exists && doc.data()['admin'] === true) {\n        resolve(true)\n      }\n      else {\n        resolve(false)\n      }\n    }).catch((error) => {\n      console.error(\"Error getting document: \", error)\n      reject(error)\n    })\n  })\n}\n\nfunction firebaseUserReducer(state, action) {\n  switch (action.type) {\n    case 'LOGGED_OUT':\n      return {\n        user: null,\n        status: 'LOGGED_OUT'\n      }\n    case 'PENDING':\n      return {\n        user: action.user,\n        status: 'PENDING'\n      }\n    case 'LOGGED_IN':\n      return {\n        user: action.user,\n        status: 'LOGGED_IN'\n      }\n    case 'UNAUTHORIZED':\n      return {\n        user: action.user,\n        status: 'UNAUTHORIZED'\n      }\n    default:\n      throw new Error()\n  }\n}\n\n/**\n * Custom hook for accessing the current firebase user, if one is logged in.\n */\nfunction useFirebaseUser() {\n  const [state, dispatch] = React.useReducer(firebaseUserReducer, {\n    user: null,\n    status: 'LOGGED_OUT'\n  })\n\n  React.useEffect(() => {\n    return firebase.auth().onAuthStateChanged((user) => {\n      if (user === null) {\n        dispatch({ type: 'LOGGED_OUT' })\n      }\n      else {\n        dispatch({ type: 'PENDING', user })\n        userIsAuthorized(user.email).then((isAuthorized) => {\n          if (isAuthorized) {\n            dispatch({ type: 'LOGGED_IN', user })\n          }\n          else {\n            dispatch({ type: 'UNAUTHORIZED', user })\n          }\n        })\n      }\n    });\n  }, [])\n\n  return state\n}\n\nexport default useFirebaseUser\n","import React from 'react'\nimport { withRouter } from 'react-router-dom';\nimport useFirebaseUser from '../firebase/FirebaseUser'\n\nfunction Footer(props) {\n\n  const userState = useFirebaseUser()\n\n  const href = \"#/login?return=\" + props.location.pathname\n\n  let loginButton\n  if (userState.status === 'LOGGED_OUT') {\n    loginButton = <a className=\"text-muted\" href={href}>Login</a>\n  }\n\n  return (\n    <footer className=\"page-footer font-small bg-light fixed-bottom\">\n      <div className=\"container\">\n        <div className=\"footer-copyright text-center py-2\">\n          <span className=\"mr-1\">Â© 2019 Copyright:</span>\n          <a href={process.env.PUBLIC_URL}>{process.env.PUBLIC_URL.replace('https://', '')}</a>\n        </div>\n        <div className=\"text-center py-2\">\n          {loginButton}\n        </div>\n      </div>\n    </footer>\n  )\n}\n\nexport default withRouter(Footer)\n","function HomePage() {\n  return null\n}\n\nexport default HomePage\n","function assemble(pieces) {\n  return pieces.join('/')\n}\n\nfunction getContentId(content) {\n  let pieces = []\n\n  if (content[0] !== undefined) {\n    pieces.push(content[0].split('_').map(s => s[0]).join(''))\n  }\n  else return assemble(pieces)\n\n  if (content[1] !== undefined) {\n    pieces.push(content[1].split(/[_-]+/).map(s => s.substring(0, 3)).join('-'))\n  }\n  else return assemble(pieces)\n\n  if (content[2] !== undefined) {\n    pieces.push(content[2])\n  }\n  else return assemble(pieces)\n\n  if (content[3] !== undefined) {\n    pieces.push(content[3])\n  }\n\n  return assemble(pieces)\n}\n\nexport default getContentId\n","import firebase from 'firebase/app'\nimport firebaseApp from './FirebaseConfig'\n\nimport 'firebase/firestore'\nimport getContentId from '../util/ContentId'\n\nconst db = firebase.firestore(firebaseApp)\n\nfunction buildInsight(doc) {\n  let data = doc.data()\n\n  let i = {\n    id: doc.id,\n    deltaOps: data['o'],\n    source: {\n      label: data['s']['l'],\n      link: data['s']['a']\n    },\n    created: data['c'] ? data['c'].toDate() : null,\n    updated: data['u'] ? data['u'].toDate() : null\n  }\n\n  if (data['f'] !== undefined) {\n    i.fragment = data['f']\n  }\n\n  return i\n}\n\nclass Insights {\n\n  getInsights(content, cb) {\n    const cid = getContentId(content)\n    db.collection('insights').where('cid', '==', cid).get().then(function (querySnapshot) {\n      cb(querySnapshot.docs.map(buildInsight))\n    }).catch(function (err) {\n      console.error('Error fetching insights for content. cid: ', cid, err)\n    })\n  }\n\n  saveInsight(insight) {\n    let data = {\n      cid: getContentId(insight.content),\n      o: insight.deltaOps,\n      s: {\n        l: insight.source.label,\n        a: insight.source.link\n      },\n      u: firebase.firestore.FieldValue.serverTimestamp()\n    }\n\n    if (insight.fragment !== undefined) {\n      data.f = insight.fragment\n    }\n\n    if (insight.id === undefined) {\n      // CREATE\n      data.c = firebase.firestore.FieldValue.serverTimestamp()\n      return db.collection('insights').add(data)\n    }\n    else {\n      // UPDATE\n      data.c = insight.created\n      return db.collection('insights').doc(insight.id).set(data)\n    }\n  }\n\n}\n\nexport default Insights\n","import React from 'react'\n\nimport noUiSlider from 'nouislider'\nimport VerseHighlightContext from './VerseHighlightContext'\n\nfunction FragmentSelector({text, insight, setInsight}) {\n  const highlightContext = React.useContext(VerseHighlightContext)\n  const sliderRef = React.createRef()\n\n  React.useEffect(() => {\n    const lastWord = text.split(' ').length\n\n    const { current: sliderNode } = sliderRef\n    noUiSlider.create(sliderNode, {\n      start: insight.fragment,\n      connect: true,\n      range: {\n        'min': 0,\n        'max': lastWord\n      },\n      step: 1\n    })\n\n    sliderNode.noUiSlider.on('update', function (values, handle) {\n      setInsight(i => ({ ...i, fragment: values.map(n => n | 0) })) // Force ints\n      highlightContext.updateHighlight(values[0], values[1])\n    })\n\n    return () => {\n      sliderNode.noUiSlider.destroy()\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <div className=\"form-group\">\n      <label htmlFor=\"phrase\">Phrase Highlight</label>\n      <div ref={sliderRef} />\n    </div>\n  )\n\n}\n\nexport default FragmentSelector\n","import React from 'react'\nimport Quill from 'quill'\n\nimport PropTypes from 'prop-types'\nimport Insights from '../firebase/Insights'\nimport FragmentSelector from './FragmentSelector'\nimport SingleVerse from './SingleVerse'\n\nfunction InsightEditor({ content, verse, insight, setInsight, toggle }) {\n  const editorRef = React.createRef()\n\n  const [isSubmitting, setSubmitting] = React.useState(false)\n\n  const insights = new Insights()\n\n  function handleSubmit(event) {\n    setSubmitting(true)\n\n    insight.content = content\n    insights.saveInsight(insight).then(function () {\n      setSubmitting(false);\n      toggle()\n    }).catch(function (err) {\n      console.error('An error occurred while saving insight: ', err)\n      setSubmitting(false);\n    })\n\n    event.preventDefault()\n  }\n\n  React.useEffect(() => {\n    let quill = new Quill(editorRef.current, {\n      theme: 'snow',\n      placeholder: 'Record the insight here...'\n    })\n\n    if (insight.deltaOps) {\n      quill.setContents(insight.deltaOps)\n    }\n\n    quill.on('text-change', function (d, od, s) {\n      setInsight(i => ({ ...i, deltaOps: quill.getContents().ops }))\n    });\n\n    return () => {\n      // No cleanup necessary for Quill.\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        {verse && <label>Verse</label>}\n        {verse && <SingleVerse verse={verse} />}\n\n        {verse && <FragmentSelector insight={insight} setInsight={setInsight} text={verse.text} />}\n\n        <div className=\"form-group\">\n          <label htmlFor=\"source-label\">Source Label</label>\n          <input type=\"text\" id=\"source-label\" className=\"form-control\" required\n            value={insight.source.label}\n            onChange={event => setInsight({ ...insight, source: { ...insight.source, label: event.target.value } })} />\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"source-link\">Source Link</label>\n          <input type=\"url\" id=\"source-link\" className=\"form-control\"\n            value={insight.source.link}\n            onChange={event => setInsight({ ...insight, source: { ...insight.source, link: event.target.value } })} />\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"insight-text\">Insight</label>\n          <div ref={editorRef} id=\"insight-text\"></div>\n        </div>\n\n        <button type=\"submit\" className=\"btn btn-success float-right\" disabled={isSubmitting}>Save</button>\n        <button type=\"button\" className=\"btn btn-danger mr-3 float-right\" onClick={toggle} disabled={isSubmitting}>Cancel</button>\n      </form>\n    </div>\n  )\n}\n\nInsightEditor.propTypes = {\n  content: PropTypes.array.isRequired,\n  verse: PropTypes.object,\n  insight: PropTypes.object.isRequired,\n  setInsight: PropTypes.func.isRequired,\n  toggle: PropTypes.func.isRequired\n}\n\nexport default InsightEditor\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { QuillDeltaToHtmlConverter } from 'quill-delta-to-html'\nimport parse from 'html-react-parser'\n\nimport VerseHighlightContext from './VerseHighlightContext'\n\nfunction SingleInsight({ insight }) {\n  const highlightContext = React.useContext(VerseHighlightContext)\n\n  let source = insight.source.label\n  if (insight.source.link !== undefined && insight.source.link !== '') {\n    source = <a className=\"text-danger\" href={insight.source.link} target=\"_blank\" rel=\"noopener noreferrer\">{insight.source.label}</a>\n  }\n\n  const insightHtml = new QuillDeltaToHtmlConverter(insight.deltaOps, {}).convert()\n\n  return (\n    <div className=\"insight m-1 p-1\"\n      onMouseEnter={() => highlightContext.updateHighlight(insight.fragment[0], insight.fragment[1])}\n      onMouseLeave={() => highlightContext.updateHighlight(0, 0)}>\n      <div className=\"text-justify\">\n        {source && <span className=\"text-danger pr-2\">({source})</span>}\n        {parse(insightHtml)}\n        {insight.created && <span className=\"text-secondary small float-right\">{insight.created.getMonth() + 1}/{insight.created.getDate()}/{insight.created.getFullYear()}</span>}\n        <div className=\"clearfix\" />\n      </div>\n    </div>\n  )\n}\n\nSingleInsight.propTypes = {\n  insight: PropTypes.object.isRequired\n}\n\nexport default SingleInsight\n","import React from 'react'\nimport ReactModal from 'react-modal'\n\nimport InsightEditor from './InsightEditor'\nimport SingleInsight from './SingleInsight'\n\nfunction InsightEditorModal({editing, verse, insight, setInsight, toggle}) {\n\n  return (\n    <ReactModal isOpen={editing}>\n      <div className=\"row\">\n        <div className=\"col-6\">\n          <h4>Edit Insight</h4>\n          <hr/>\n          <InsightEditor\n            content={verse.getContent()}\n            verse={verse}\n            insight={insight}\n            setInsight={setInsight}\n            toggle={toggle} />\n        </div>\n        <div className=\"col-6\">\n          <h4>Preview</h4>\n          <hr/>\n          <SingleInsight insight={insight} />\n        </div>\n      </div>\n    </ReactModal>\n  )\n}\n\nexport default InsightEditorModal\n","function compareInsightsByFragmentAndSource(a, b) {\n  function compareIdx(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0\n  }\n\n  let r = compareIdx(a.fragment[0], b.fragment[0])\n  if (r === 0) {\n    r = compareIdx(a.fragment[1], b.fragment[1])\n  }\n\n  // If the fragments are equivalent, sort by the source label.\n  if (r === 0) {\n    r = a.source.label.localeCompare(b.source.label)\n  }\n\n  return r\n}\n\nfunction fragmentEq(f1, f2) {\n  return f1[0] === f2[0] && f1[1] === f2[1]\n}\n\nfunction groupInsightsByFragment(insights) {\n  if (insights.length === 0) {\n    return insights\n  }\n\n  let groups = []\n\n  let f = insights[0].fragment\n  let g = []\n  insights.forEach(i => {\n    if (fragmentEq(f, i.fragment)) {\n      g.push(i)\n    }\n    else {\n      groups.push(Array.from(g))\n      f = i.fragment\n      g = [i]\n    }\n  })\n\n  if (g.length !== 0) {\n    groups.push(g)\n  }\n\n  return groups\n}\n\nfunction groupInsights(insights) {\n  insights.sort(compareInsightsByFragmentAndSource)\n  return groupInsightsByFragment(insights)\n}\n\nexport default groupInsights\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport SingleInsight from './SingleInsight'\nimport Verse from '../model/Verse'\nimport useFirebaseUser from '../firebase/FirebaseUser'\n\nfunction buildInsight(user, verse, i, toggle, setInsight, idx) {\n  function editInsight() {\n    setInsight(i)\n    toggle()\n  }\n\n  const btn = <button\n    key={'edit-' + i.id}\n    type=\"button\"\n    className=\"btn btn-warning float-right\"\n    onClick={editInsight}>Edit Insight</button>\n\n  return (\n    <li key={idx}>\n      <SingleInsight key={i.id} verse={verse} insight={i} />\n      {user.status === 'LOGGED_IN' ? btn : null}\n      <div style={{clear: 'both'}}></div>\n    </li>\n  )\n}\n\nfunction InsightGroup({ verse, insightGroup, toggle, setInsight }) {\n  const user = useFirebaseUser()\n\n  let f = insightGroup[0].fragment\n  let phrase = verse.text.split(' ').slice(f[0], f[1]).join(' ')\n\n  return (\n    <>\n      <div key={f}>\n        <hr />\n        <p className=\"text-primary font-italic\">{phrase}</p>\n      </div>\n      <ol>\n        {insightGroup.map((i, idx) => buildInsight(user, verse, i, toggle, setInsight, idx))}\n      </ol>\n    </>\n  )\n}\n\nInsightGroup.propTypes = {\n  verse: PropTypes.instanceOf(Verse).isRequired\n}\n\nexport default InsightGroup\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport LoadingBar from './LoadingBar'\nimport Verse from '../model/Verse'\nimport groupInsights from '../util/InsightGroups'\nimport InsightGroup from './InsightGroup'\n\nfunction InsightList({ verse, insights, toggle, setInsight }) {\n\n  let insightContent\n  if (insights === undefined) {\n    insightContent = <LoadingBar />\n  }\n  else {\n    // Sort insights by fragment\n    const insightGroups = groupInsights(insights)\n    insightContent = insightGroups.map(function (ig, idx) {\n      return <InsightGroup key={idx} verse={verse} insightGroup={ig} toggle={toggle} setInsight={setInsight} />\n    })\n  }\n\n  return (\n    <>\n      <h4 className=\"text-capitalize\">insights</h4>\n      {insightContent}\n    </>\n  )\n}\n\nInsightList.propTypes = {\n  verse: PropTypes.instanceOf(Verse).isRequired\n}\n\nexport default InsightList\n","import React from 'react'\n\nimport InsightEditorModal from '../InsightEditorModal'\nimport InsightList from '../InsightList'\nimport LoadingBar from '../LoadingBar'\nimport Scriptures from '../../firebase/Scriptures'\nimport Insights from '../../firebase/Insights'\nimport SingleVerse from '../SingleVerse'\nimport useFirebaseUser from '../../firebase/FirebaseUser'\nimport VerseHighlightContext from '../VerseHighlightContext'\n\nconst DEFAULT_INSIGHT = {\n  source: {\n    label: '',\n    link: ''\n  },\n  deltaOps: [],\n  fragment: [0, 0]\n}\n\nfunction InsightListPage({ match: { params: { volume, book, chapter, verse: verseNumber } } }) {\n  const user = useFirebaseUser()\n\n  const [verse, setVerse] = React.useState()\n  const [insights, setInsights] = React.useState()\n  const [newInsight, setNewInsight] = React.useState(DEFAULT_INSIGHT)\n  const [editing, setEditing] = React.useState(false)\n  const [highlight, setHighlight] = React.useState({ first: 0, last: 0 })\n\n  const contextState = {\n    highlight,\n    updateHighlight: (f, l) => setHighlight({ first: f, last: l })\n  }\n\n  function toggleEditing() {\n    setEditing(!editing)\n  }\n\n  const scriptures = new Scriptures()\n  const insightsStore = new Insights()\n\n  React.useEffect(() => {\n    scriptures.getVerse(volume, book, chapter, verseNumber, setVerse)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  React.useEffect(() => {\n    insightsStore.getInsights([volume, book, chapter, verseNumber], setInsights)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editing])\n\n  function addNewInsight() {\n    setNewInsight(DEFAULT_INSIGHT)\n    toggleEditing()\n  }\n\n  return (\n    <VerseHighlightContext.Provider value={contextState}>\n      <div className=\"row\">\n        <div className=\"col-lg-6 col-md-6 col-sm-12\">\n          <h4 className=\"text-capitalize\">{book.replace(/_/g, ' ')} {chapter}:{verseNumber}</h4>\n          <hr />\n          <div className={editing ? null : \"sticky-top\"}>\n            {verse ? <SingleVerse verse={verse} /> : <LoadingBar />}\n            <hr />\n            {verse && user.status === 'LOGGED_IN' && <button type=\"button\" className=\"btn btn-warning float-right\" onClick={addNewInsight}>Add Insight</button>}\n\n            {verse ? <InsightEditorModal\n              editing={editing}\n              verse={verse}\n              insight={newInsight}\n              setInsight={setNewInsight}\n              toggle={toggleEditing} /> : null }\n          </div>\n        </div>\n        <div className=\"col-lg-6 col-md-6 col-sm-12\">\n          {verse ? null : <LoadingBar />}\n          {verse ? <InsightList\n            verse={verse}\n            insights={insights}\n            toggle={toggleEditing}\n            setInsight={setNewInsight} /> : null}\n        </div>\n      </div>\n    </VerseHighlightContext.Provider>\n  )\n}\n\nexport default InsightListPage\n","import React from 'react';\nimport { Redirect } from 'react-router-dom'\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport firebase from 'firebase/app';\nimport useFirebaseUser from '../../firebase/FirebaseUser';\n\nconst uiConfig = {\n  signInFlow: 'popup',\n  signInOptions: [\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID\n  ],\n  callbacks: {\n    signInSuccessWithAuthResult: () => false\n  }\n}\n\nfunction LoginPage(props) {\n  const userState = useFirebaseUser()\n\n  React.useEffect(() => {\n    if (userState.status === 'UNAUTHORIZED') {\n      userState.user.delete().catch((error) => {\n        console.log(\"An error occurred while deleting an unauthorized user. \", error);\n      })\n    }\n  }, [userState])\n\n  let returnTo = props.location.search.split('=')[1]\n  if (returnTo === undefined || returnTo === '') {\n    returnTo = '/'\n  }\n\n  if (userState.status === 'UNAUTHORIZED') {\n    return <Redirect to=\"/unauthorized\" />\n  }\n  else if (userState.status === 'LOGGED_IN') {\n    return <Redirect to={returnTo} />\n  }\n  else {\n    return (\n      <div>\n        <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\n      </div>\n    )\n  }\n}\n\nexport default LoginPage\n","import React from 'react';\nimport firebase from 'firebase/app';\nimport useFirebaseUser from '../firebase/FirebaseUser';\n\nfunction UserStatus() {\n\n  const userState = useFirebaseUser()\n\n  if (userState.status === 'LOGGED_IN') {\n    return (\n      <form className=\"form-inline my-2 my-lg-0\">\n        <span className=\"text-light my-2 mr-sm-2\">{userState.user.email}</span>\n        <button className=\"btn btn-success my-2 my-sm-0\" onClick={() => firebase.auth().signOut()} type=\"submit\">Logout</button>\n      </form>\n    )\n  }\n\n  return (\n    <></>\n  )\n}\n\nexport default UserStatus\n","import React from 'react'\nimport UserStatus from './UserStatus'\n\nfunction Navbar() {\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary\">\n      <div className=\"container\">\n        <a className=\"navbar-brand\" href=\"#/\">Enjoy the Scriptures</a>\n\n        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n          <ul className=\"navbar-nav mr-auto\">\n            <li className=\"nav-item\">\n              <a className=\"nav-link\" href=\"#/scriptures\">Scriptures</a>\n            </li>\n            <li className=\"nav-item\">\n              <a className=\"nav-link\" href=\"#/topics\">Topics</a>\n            </li>\n            <li className=\"nav-item\">\n              <a className=\"nav-link\" href=\"#/about\">About</a>\n            </li>\n          </ul>\n          <UserStatus />\n        </div>\n      </div>\n    </nav>\n  )\n}\n\nexport default Navbar\n","import React from 'react'\n\nfunction NotFoundPage() {\n  return (\n    <div className=\"alert alert-warning\">\n      <h4 className=\"alert-heading\">Not Found</h4>\n      <p className=\"mb-0\">The requested page does not exist.</p>\n      <a href=\"#/\" className=\"alert-link\">Return Home</a>\n    </div>\n  )\n}\n\nexport default NotFoundPage\n","import React from 'react'\n\nfunction UnauthorizedPage() {\n  return (\n    <div className=\"alert alert-danger\">\n      <h4 className=\"alert-heading\">User Not Found</h4>\n      <p className=\"mb-0\">You are not authorized to access this resource.</p>\n      <a className=\"alert-link\" href=\"#/\">Return Home</a>\n    </div>\n  )\n}\n\nexport default UnauthorizedPage\n","import React from 'react'\n\nimport LoadingBar from '../LoadingBar'\nimport Scriptures from '../../firebase/Scriptures'\n\nfunction buildButton(label) {\n  const classes = \"text-capitalize text-white btn btn-success btn-lg\"\n  const href = '#/scriptures/' + label\n\n  return (\n    <div key={href} className=\"col-sm text-center text-nowrap p-3\">\n      <a href={href} role=\"button\" className={classes}>{label.replace(/_/g, ' ')}</a>\n    </div>\n  )\n}\n\nfunction VolumeListPage() {\n  const [volumes, setVolumes] = React.useState([])\n  const scriptures = new Scriptures()\n\n  React.useEffect(() => {\n    scriptures.getVolumes(setVolumes)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  let content;\n  if (volumes.length === 0) {\n    content = <LoadingBar />\n  }\n  else {\n    content = volumes.map(buildButton)\n  }\n\n  return (\n    <div>\n      <h1>Scriptures</h1>\n\n      <div className=\"row\">\n        {content}\n      </div>\n    </div>\n  )\n}\n\nexport default VolumeListPage\n","import React from 'react'\nimport { HashRouter, Route, Switch, Redirect } from 'react-router-dom'\n\nimport AboutPage from './pages/AboutPage'\nimport Background from './Background'\nimport BookListPage from './pages/BookListPage'\nimport Breadcrumb from './Breadcrumb'\nimport ChapterListPage from './pages/ChapterListPage'\nimport ChapterTextPage from './pages/ChapterTextPage'\nimport Footer from './Footer'\nimport HomePage from './pages/HomePage'\nimport InsightListPage from './pages/InsightListPage'\nimport LoginPage from './pages/LoginPage'\nimport Navbar from './Navbar'\nimport NotFoundPage from './pages/NotFoundPage'\nimport UnauthorizedPage from './pages/UnauthorizedPage'\nimport useFirebaseUser from '../firebase/FirebaseUser'\nimport VolumeListPage from './pages/VolumeListPage'\n\nfunction ComingSoonPage() {\n  return (\n    <header className=\"coming-soon\">\n      <h1 className=\"py-4 font-weight-bold\">Enjoy the Scriptures</h1>\n      <p className=\"py-4 font-weight-bold\">Coming Soon</p>\n    </header>\n  )\n}\n\nfunction App() {\n  const userState = useFirebaseUser()\n\n  if (userState.status === 'LOGGED_OUT') {\n    return (\n      <HashRouter basename='/'>\n        <div className=\"App\">\n          <Switch>\n            <Route exact path=\"/login\" component={LoginPage} />\n            <Route component={ComingSoonPage} />\n          </Switch>\n        </div>\n      </HashRouter>\n    )\n  }\n\n  return (\n    <HashRouter basename='/'>\n      <div className=\"App\">\n        <Navbar />\n        <Route path='/' component={Breadcrumb} />\n\n        <Route exact path=\"/\" component={Background} />\n\n        <div className=\"container py-5\">\n          <Switch>\n            <Route exact path=\"/\" component={HomePage} />\n            <Route exact path=\"/about\" component={AboutPage} />\n\n            {/* Scripture Notebook */}\n            <Route exact path=\"/scriptures\" component={VolumeListPage} />\n            <Route exact path=\"/scriptures/:volume\" component={BookListPage} />\n            <Route exact path=\"/scriptures/:volume/:book\" component={ChapterListPage} />\n            <Route exact path=\"/scriptures/:volume/:book/:chapter\" component={ChapterTextPage} />\n            <Route exact path=\"/scriptures/:volume/:book/:chapter/:verse\" component={InsightListPage} />\n\n            {/* Topical Index */}\n            <Route exact path=\"/topics\" />\n\n            {/* Login Related */}\n            <Route exact path=\"/login\" component={LoginPage} />\n            <Route exact path=\"/unauthorized\" component={UnauthorizedPage} />\n\n            {/* 404 */}\n            <Route exact path=\"/not_found\" component={NotFoundPage} />\n            <Redirect to=\"/not_found\" />\n          </Switch>\n        </div>\n\n        {/* Invisble placeholder to prevent the sticky footer from covering content */}\n        <div className=\"my-5\"></div>\n\n        <Footer />\n      </div>\n    </HashRouter>\n  );\n}\n\nexport default App\n","import 'bootstrap/dist/css/bootstrap.min.css'\nimport 'bootstrap/dist/js/bootstrap.bundle.min.js'\nimport 'nouislider/distribute/nouislider.min.css'\nimport 'quill/dist/quill.snow.css'\n\nimport './ets.css'\nimport './litera.min.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport ReactModal from 'react-modal'\n\nimport App from './components/App'\n\nReactModal.setAppElement('#root');\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}