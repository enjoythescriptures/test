{"version":3,"sources":["components/About.js","components/Background.js","components/LoadingBar.js","firebase/FirebaseConfig.js","model/Verse.js","model/Insight.js","firebase/ScriptureCache.js","components/BookListPage.js","components/Breadcrumb.js","components/ChapterListPage.js","components/VerseHighlightContext.js","components/SingleVerse.js","components/ChapterTextPage.js","firebase/FirebaseUser.js","components/Footer.js","components/Home.js","components/AddInsight.js","components/SingleInsight.js","components/InsightList.js","components/InsightListPage.js","components/LoginScreen.js","components/UserStatus.js","components/Navbar.js","components/NotFound.js","components/Unauthorized.js","components/VolumeListPage.js","components/App.js","index.js"],"names":["About","Background","alt","src","style","position","top","zIndex","width","height","backgroundPosition","backgroundRepeat","backgroundSize","opacity","LoadingBar","className","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseApp","firebase","initializeApp","Verse","volumeName","bookName","chapter","number","text","this","volume","book","n","join","split","map","s","substring","Insight","id","verseId","fragment","source","db","firestore","volumes","books","chapterCounts","verseCounts","verses","buildVerseList","Object","keys","buildInsight","doc","data","i","label","link","created","toDate","updated","ScriptureCache","cb","length","get","then","catch","err","console","error","fetchVolumes","undefined","fetchBooks","chapterCount","fetchChapterCount","verseCount","toString","fetchVerseCount","collection","querySnapshot","docs","forEach","fetchVerses","verse","getVerses","verseList","getVerseId","where","fetchInsights","insight","add","vid","t","f","l","a","c","FieldValue","serverTimestamp","BookListPage","content","match","params","React","useState","setBooks","scriptureCache","useEffect","getBooks","href","key","role","replace","buildButton","toBreadcrumb","segment","Breadcrumb","props","segments","concat","location","pathname","filter","seg","crumbs","last","classNames","backgroundColor","marginBottom","ChapterListPage","setChapterCount","getChapterCount","push","VerseHighlightContext","createContext","SingleVerse","clickHandler","clickable","redirect","setRedirect","highlightContext","useContext","divStyle","getHref","to","verseContent","h","highlight","first","words","slice","onClick","ChapterTextPage","setVerses","v","firebaseUserReducer","state","action","type","user","status","Error","useFirebaseUser","useReducer","dispatch","auth","onAuthStateChanged","email","docRef","Promise","resolve","reject","exists","userIsAuthorized","isAuthorized","withRouter","loginButton","userState","process","Home","AddInsight","setInsight","toggle","sliderRef","createRef","isSubmitting","setSubmitting","lastWord","sliderNode","current","noUiSlider","create","start","connect","range","step","on","values","handle","updateHighlight","destroy","onSubmit","saveNewInsight","htmlFor","required","value","onChange","event","target","ref","rows","disabled","SingleInsight","phrase","rel","onMouseEnter","onMouseLeave","getMonth","getDate","getFullYear","compareInsightsByFragment","b","compareIdx","r","InsightList","insightContent","insights","sort","currentFragment","idx","InsightListPage","verseNumber","setVerse","setInsights","newInsight","setNewInsight","adding","setAdding","setHighlight","contextState","toggleAdding","getVerse","getInsights","Provider","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","LoginScreen","delete","log","returnTo","search","firebaseAuth","UserStatus","signOut","Navbar","data-toggle","data-target","aria-controls","aria-expanded","aria-label","NotFound","Unauthorized","VolumeListPage","setVolumes","getVolumes","App","basename","path","component","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.56fec15a.chunk.js","sourcesContent":["import React from 'react';\n\nfunction About() {\n  return (\n    <div>\n      <h2>About</h2>\n      <p>\n        Enjoy the Scriptures.\n      </p>\n    </div>\n  )\n}\n\nexport default About\n","import React from 'react';\n\nfunction Background() {\n  const style = {\n    position: 'fixed',\n    top: 0,\n    zIndex: -1,\n    width: '100%',\n    height: '100%',\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n    opacity: '0.9'\n  }\n\n  return (\n    <img alt=\"A pathway with trees on either side in autumn\" src=\"/background.jpg\" style={style} />\n  )\n}\n\nexport default Background\n","import React from 'react'\n\nfunction LoadingBar() {\n  return (\n    <div className=\"col text-center\">\n      <img alt=\"loading\" src=\"loader.gif\" />\n    </div>\n  )\n}\n\nexport default LoadingBar\n","import firebase from 'firebase/app'\n\nvar devFirebaseConfig = {\n  apiKey: \"AIzaSyDkKbOrGudHylmvFiRMW4SkwxXlFxQt-l4\",\n  authDomain: \"enjoy-the-scriptures-dev.firebaseapp.com\",\n  databaseURL: \"https://enjoy-the-scriptures-dev.firebaseio.com\",\n  projectId: \"enjoy-the-scriptures-dev\",\n  storageBucket: \"\",\n  messagingSenderId: \"160411774173\",\n  appId: \"1:160411774173:web:24609264832f2816d1ff34\",\n  measurementId: \"G-JWEZ0Y38BM\"\n};\n\nvar testFirebaseConfig = {\n  apiKey: \"AIzaSyDcWkM-EwFO9BrLbHAiZf_NcPKT1jg_B4M\",\n  authDomain: \"enjoy-the-scriptures-test.firebaseapp.com\",\n  databaseURL: \"https://enjoy-the-scriptures-test.firebaseio.com\",\n  projectId: \"enjoy-the-scriptures-test\",\n  storageBucket: \"\",\n  messagingSenderId: \"854443437513\",\n  appId: \"1:854443437513:web:b0f58f35a8d4a823c64c18\",\n  measurementId: \"G-EDCKCQPLL0\"\n};\n\nvar prodFirebaseConfig = {\n  apiKey: \"AIzaSyCJ8QdL00_QZlNHsdlLo_z_ROHV550HN20\",\n  authDomain: \"enjoy-the-scriptures.firebaseapp.com\",\n  databaseURL: \"https://enjoy-the-scriptures.firebaseio.com\",\n  projectId: \"enjoy-the-scriptures\",\n  storageBucket: \"enjoy-the-scriptures.appspot.com\",\n  messagingSenderId: \"812786960298\",\n  appId: \"1:812786960298:web:5692ec20094481a1304dd3\",\n  measurementId: \"G-Q6Q0Z99K1H\"\n};\n\nfunction getFirebaseConfig() {\n  const config = process.env.REACT_APP_FIREBASE_CONFIG\n  if (config === 'production') {\n    return prodFirebaseConfig\n  }\n  else if (config === 'test') {\n    return testFirebaseConfig\n  }\n  else {\n    return devFirebaseConfig\n  }\n}\n\nconst firebaseConfig = getFirebaseConfig()\nconst firebaseApp = firebase.initializeApp(firebaseConfig)\n\nexport default firebaseApp\n","class Verse {\n  constructor(volumeName, bookName, chapter, number, text) {\n    this.volume = volumeName\n    this.book = bookName\n    this.chapter = chapter\n    this.n = number\n    this.text = text\n  }\n\n  getHref() {\n    return ['/scriptures', this.volume, this.book, this.chapter, this.n].join('/')\n  }\n\n  getVerseId() {\n    return [\n      this.volume.split('_').map(s => s[0]).join(''),\n      this.book.split('_').map(s => s.substring(0, 3)).join('-'),\n      this.chapter,\n      this.n\n    ].join('/')\n  }\n}\n\nexport default Verse\n","class Insight {\n  constructor(id, verseId, text, fragment, source) {\n    this.id = id\n    this.verseId = verseId\n    this.text = text\n    this.fragment = fragment\n    this.source = source\n  }\n}\n\nexport default Insight\n","import firebase from 'firebase/app'\nimport firebaseApp from './FirebaseConfig'\n\nimport 'firebase/firestore'\nimport Verse from '../model/Verse'\nimport Insight from '../model/Insight'\n\nconst db = firebase.firestore(firebaseApp)\n\nlet volumes = []\nlet books = {}\nlet chapterCounts = {}\nlet verseCounts = {}\nlet verses = {}\n\nfunction fetchVolumes(cb) {\n  db.doc('scriptures/index').get().then(function (doc) {\n    volumes = doc.data()['volumes']\n    cb(volumes)\n  }).catch(function (err) {\n    console.error('Error fetching volumes: ', err)\n  })\n}\n\nfunction fetchBooks(volume, cb) {\n  db.doc('scriptures/index/volumes/' + volume).get().then(function (doc) {\n    books[volume] = doc.data()['books']\n    cb(books[volume])\n  }).catch(function (err) {\n    console.error('Error fetching books for volume: ', volume, err)\n  })\n}\n\nfunction fetchChapterCount(volume, book, cb) {\n  db.doc('scriptures/index/volumes/' + volume + '/books/' + book).get().then(function (doc) {\n    const chapterCount = doc.data()['chapters']\n    chapterCounts[volume] = {}\n    chapterCounts[volume][book] = chapterCount\n    cb(chapterCount)\n  }).catch(function (err) {\n    console.error('Error fetching chapter count for ' + volume + ', ' + book, err)\n  })\n}\n\nfunction fetchVerseCount(volume, book, chapter, cb) {\n  db.doc('scriptures/index/volumes/' + volume + '/books/' + book + '/chapters/' + chapter).get().then(function (doc) {\n    const verseCount = doc.data()['verses']\n    verseCounts[volume] = {}\n    verseCounts[volume][book] = {}\n    verseCounts[volume][book][chapter.toString()] = verseCount\n    cb(verseCount)\n  }).catch(function (err) {\n    console.error('Error fetching verse count for ' + volume + ', ' + book + ', chapter ' + chapter, err)\n  })\n}\n\nfunction fetchVerses(volume, book, chapter, cb) {\n  if (verses[volume] === undefined) verses[volume] = {}\n  if (verses[volume][book] === undefined) verses[volume][book] = {}\n  if (verses[volume][book][chapter] === undefined) verses[volume][book][chapter] = {}\n\n  db.collection('scriptures/index/volumes/' + volume + '/books/' + book + '/chapters/' + chapter + '/verses').get().then(function (querySnapshot) {\n    querySnapshot.docs.forEach(function (doc) {\n      verses[volume][book][chapter][doc.id] = doc.data()['text']\n    })\n\n    cb(buildVerseList(volume, book, chapter))\n  }).catch(function (err) {\n    console.error('Error fetching verses for ' + volume + ', ' + book + ', chapter ' + chapter, err)\n  })\n}\n\nfunction buildVerseList(volume, book, chapter) {\n  return Object.keys(verses[volume][book][chapter]).map(function (n) {\n    return new Verse(volume, book, chapter, n, verses[volume][book][chapter][n])\n  })\n}\n\nfunction buildInsight(doc) {\n  let data = doc.data()\n  let i = new Insight(doc.id, data['vid'], data['t'], data['f'], {\n    label: data['s']['l'],\n    link: data['s']['a']\n  })\n\n  i.created = data['c'] ? data['c'].toDate() : null\n  i.updated = data['u'] ? data['u'].toDate() : null\n\n  return i\n}\n\nfunction fetchInsights(verse, cb) {\n  const verseId = verse.getVerseId()\n  db.collection('insights').where('vid', '==', verseId).get().then(function (querySnapshot) {\n    cb(querySnapshot.docs.map(buildInsight))\n  }).catch(function (err) {\n    console.error('Error fetching insights for verse. verseId: ', verseId, err)\n  })\n}\n\nclass ScriptureCache {\n\n  getVolumes(cb) {\n    if (volumes.length === 0) {\n      fetchVolumes(cb)\n    }\n    else {\n      cb(volumes)\n    }\n  }\n\n  getBooks(volume, cb) {\n    if (books[volume] === undefined || books[volume].length === 0) {\n      fetchBooks(volume, cb)\n    }\n    else {\n      cb(books[volume])\n    }\n  }\n\n  getChapterCount(volume, book, cb) {\n    if (chapterCounts[volume] === undefined || chapterCounts[volume][book] === undefined) {\n      fetchChapterCount(volume, book, cb)\n    }\n    else {\n      cb(chapterCounts[volume][book])\n    }\n  }\n\n  getVerseCount(volume, book, chapter, cb) {\n    if (verseCounts[volume] === undefined ||\n      verseCounts[volume][book] === undefined ||\n      verseCounts[volume][book][chapter] === undefined) {\n      fetchVerseCount(volume, book, chapter, cb)\n    }\n    else {\n      cb(verseCounts[volume][book][chapter])\n    }\n  }\n\n  getVerses(volume, book, chapter, cb) {\n    if (verses[volume] === undefined ||\n      verses[volume][book] === undefined ||\n      verses[volume][book][chapter] === undefined) {\n      fetchVerses(volume, book, chapter, cb)\n    }\n    else {\n      cb(buildVerseList(volume, book, chapter))\n    }\n  }\n\n  getVerse(volume, book, chapter, verse, cb) {\n    this.getVerses(volume, book, chapter, function (verseList) {\n      cb(verseList[verse - 1])\n    })\n  }\n\n  getInsights(volume, book, chapter, verse, cb) {\n    fetchInsights(new Verse(volume, book, chapter, verse), cb)\n  }\n\n  saveNewInsight(insight) {\n    return db.collection('insights').add({\n      vid: insight.verseId,\n      t: insight.text,\n      f: insight.fragment,\n      s: {\n        l: insight.source.label,\n        a: insight.source.link\n      },\n      c: firebase.firestore.FieldValue.serverTimestamp()\n    })\n  }\n}\n\nexport default ScriptureCache\n","import React from 'react'\n\nimport LoadingBar from './LoadingBar'\nimport ScriptureCache from '../firebase/ScriptureCache'\n\nfunction buildButton(volume, label) {\n  const classes = \"text-capitalize text-white btn btn-success btn-lg\"\n  const href = '#/scriptures/' + volume + '/' + label\n\n  return (\n    <div key={href} className=\"col-sm text-center text-nowrap p-3\">\n      <a href={href} role=\"button\" className={classes}>{label.replace(/_/g, ' ')}</a>\n    </div>\n  )\n}\n\nfunction BookListPage({ match: { params: { volume } } }) {\n  const [books, setBooks] = React.useState([])\n  const scriptureCache = new ScriptureCache()\n\n  React.useEffect(() => {\n    scriptureCache.getBooks(volume, setBooks)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  let content;\n  if (books.length === 0) {\n    content = <LoadingBar />\n  }\n  else {\n    content = books.map(label => buildButton(volume, label))\n  }\n\n  return (\n    <div>\n      <h2 className=\"text-capitalize\">{volume.replace(/_/g, ' ')}</h2>\n      <div className=\"row\">\n        {content}\n      </div>\n    </div>\n  )\n}\n\nexport default BookListPage\n","import React from 'react'\n\nfunction toBreadcrumb(segment) {\n  return segment.replace(/_/g, ' ')\n}\n\nfunction Breadcrumb(props) {\n  const segments = ['home'].concat(props.location.pathname.substring(1).split('/').filter(seg => seg !== \"\"))\n  let href = '#'\n  const crumbs = segments.map(function (s, i) {\n    let last = i === segments.length - 1\n\n    if (i > 0) {\n      href += '/' + s\n    }\n\n    let label = <a href={href}>{toBreadcrumb(s)}</a>\n\n    let classNames = \"breadcrumb-item text-capitalize\"\n    if (last) {\n      classNames += \" active\"\n      label = toBreadcrumb(s)\n    }\n\n    return (\n      <li key={href} className={classNames}>\n        {label}\n      </li>\n    )\n  })\n\n  return (\n    <div style={{ backgroundColor: '#e9ecef' }}>\n      <div className=\"container\">\n        <ol className=\"breadcrumb\" style={{ marginBottom: '0' }}>\n          {crumbs}\n        </ol>\n      </div>\n    </div>\n  )\n}\n\nexport default Breadcrumb\n","import React from 'react'\n\nimport LoadingBar from './LoadingBar'\nimport ScriptureCache from '../firebase/ScriptureCache'\n\nfunction buildButton(volume, book, chapter) {\n  const classes = \"text-capitalize text-white btn btn-success btn-lg\"\n  const href = '#/scriptures/' + volume + '/' + book + '/' + chapter\n\n  return (\n    <div key={href} className=\"col text-center text-nowrap p-3\">\n      <a href={href} role=\"button\" className={classes}>{chapter}</a>\n    </div>\n  )\n}\n\nfunction ChapterListPage({ match: { params: { volume, book } } }) {\n  const [chapterCount, setChapterCount] = React.useState(0)\n  const scriptureCache = new ScriptureCache()\n\n  React.useEffect(() => {\n    scriptureCache.getChapterCount(volume, book, setChapterCount)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  let content;\n  if (chapterCount === 0) {\n    content = <LoadingBar />\n  }\n  else {\n    content = []\n    for (let c = 1; c <= chapterCount; c++) {\n      content.push(buildButton(volume, book, c))\n    }\n  }\n\n  return (\n    <div>\n      <h3 className=\"text-capitalize\">{book.replace(/_/g, ' ')}</h3>\n      <div className=\"row\">\n        {content}\n      </div>\n    </div>\n  )\n}\n\nexport default ChapterListPage\n","import React from 'react'\n\nconst VerseHighlightContext = React.createContext({});\n\nexport default VerseHighlightContext\n","import { Redirect } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport React from 'react'\n\nimport Verse from '../model/Verse'\nimport VerseHighlightContext from './VerseHighlightContext'\n\nfunction SingleVerse({ verse, clickable }) {\n  const [redirect, setRedirect] = React.useState()\n  const highlightContext = React.useContext(VerseHighlightContext)\n\n  let divStyle = \"m-1 p-1 rounded \"\n  if (clickable) {\n    divStyle += \" clickable-verse\"\n  }\n\n  let clickHandler;\n  if (clickable) {\n    clickHandler = () => setRedirect(verse.getHref())\n  }\n\n  if (redirect !== undefined) {\n    return <Redirect to={redirect} />\n  }\n\n  let verseContent = verse.text\n  const h = highlightContext.highlight\n  if (h !== undefined && h.first !== h.last) {\n    const words = verse.text.split(' ')\n    verseContent = [\n      <span key=\"before\">{words.slice(0, h.first).join(' ') + ' '}</span>,\n      <span key=\"highlighted\" className=\"verse-highlight rounded\">\n        {words.slice(h.first, h.last).join(' ')}\n      </span>,\n      <span key=\"after\">{' ' + words.slice(h.last).join(' ')}</span>\n    ]\n  }\n\n  return (\n    <div className={divStyle} onClick={clickHandler}>\n      <p className=\"text-justify\">\n        <span className=\"font-weight-bold mr-1\">{verse.n}</span>\n        <span>{verseContent}</span>\n      </p>\n    </div>\n  )\n}\n\nSingleVerse.propTypes = {\n  verse: PropTypes.instanceOf(Verse).isRequired,\n  clickable: PropTypes.bool\n}\n\nexport default SingleVerse\n","import React from 'react'\n\nimport LoadingBar from './LoadingBar'\nimport ScriptureCache from '../firebase/ScriptureCache'\nimport SingleVerse from './SingleVerse'\n\nfunction ChapterTextPage({ match: { params: { volume, book, chapter } } }) {\n  const [verses, setVerses] = React.useState([])\n  const scriptureCache = new ScriptureCache()\n\n  React.useEffect(() => {\n    scriptureCache.getVerses(volume, book, chapter, setVerses)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  let content;\n  if (verses.length === 0) {\n    content = <LoadingBar />\n  }\n  else {\n    content = verses.map(v => <SingleVerse key={v.getHref()} verse={v} clickable={true}/>)\n  }\n\n  return (\n    <div>\n      <h4 className=\"text-capitalize\">{book.replace(/_/g, ' ')} {chapter}</h4>\n      <div className=\"row\">\n        <div className=\"col-3\"></div>\n        <div className=\"col-sm-6\">{content}</div>\n        <div className=\"col-3\"></div>\n      </div>\n    </div>\n  )\n}\n\nexport default ChapterTextPage\n","import React from 'react'\nimport firebase from 'firebase/app'\nimport firebaseApp from '../firebase/FirebaseConfig'\n\nimport 'firebase/auth'\nimport 'firebase/firestore'\n\nconst db = firebase.firestore(firebaseApp)\n\nfunction userIsAuthorized(email) {\n  const docRef = db.collection('users').doc(email)\n\n  return new Promise((resolve, reject) => {\n    docRef.get().then((doc) => {\n      if (doc.exists && doc.data()['admin'] === true) {\n        resolve(true)\n      }\n      else {\n        resolve(false)\n      }\n    }).catch((error) => {\n      console.error(\"Error getting document: \", error)\n      reject(error)\n    })\n  })\n}\n\nfunction firebaseUserReducer(state, action) {\n  switch (action.type) {\n    case 'LOGGED_OUT':\n      return {\n        user: null,\n        status: 'LOGGED_OUT'\n      }\n    case 'PENDING':\n      return {\n        user: action.user,\n        status: 'PENDING'\n      }\n    case 'LOGGED_IN':\n      return {\n        user: action.user,\n        status: 'LOGGED_IN'\n      }\n    case 'UNAUTHORIZED':\n      return {\n        user: action.user,\n        status: 'UNAUTHORIZED'\n      }\n    default:\n      throw new Error()\n  }\n}\n\n/**\n * Custom hook for accessing the current firebase user, if one is logged in.\n */\nfunction useFirebaseUser() {\n  const [state, dispatch] = React.useReducer(firebaseUserReducer, {\n    user: null,\n    status: 'LOGGED_OUT'\n  })\n\n  React.useEffect(() => {\n    return firebase.auth().onAuthStateChanged((user) => {\n      if (user === null) {\n        dispatch({ type: 'LOGGED_OUT' })\n      }\n      else {\n        dispatch({ type: 'PENDING', user })\n        userIsAuthorized(user.email).then((isAuthorized) => {\n          if (isAuthorized) {\n            dispatch({ type: 'LOGGED_IN', user })\n          }\n          else {\n            dispatch({ type: 'UNAUTHORIZED', user })\n          }\n        })\n      }\n    });\n  }, [])\n\n  return state\n}\n\nexport default useFirebaseUser\n","import React from 'react'\nimport { withRouter } from 'react-router-dom';\nimport useFirebaseUser from '../firebase/FirebaseUser'\n\nfunction Footer(props) {\n\n  const userState = useFirebaseUser()\n\n  const href = \"#/login?return=\" + props.location.pathname\n\n  let loginButton\n  if (userState.status === 'LOGGED_OUT') {\n    loginButton = <a className=\"text-muted\" href={href}>Login</a>\n  }\n\n  return (\n    <footer className=\"page-footer font-small bg-light fixed-bottom\">\n      <div className=\"container\">\n        <div className=\"footer-copyright text-center py-2\">\n          <span className=\"mr-1\">Â© 2019 Copyright:</span>\n          <a href={process.env.PUBLIC_URL}>{process.env.PUBLIC_URL.replace('https://', '')}</a>\n        </div>\n        <div className=\"text-center py-2\">\n          {loginButton}\n        </div>\n      </div>\n    </footer>\n  )\n}\n\nexport default withRouter(Footer)\n","import React from 'react';\n\nfunction Home() {\n  return (\n    <div className=\"jumbotron text-center\">\n      <div className=\"display-3 text-truncate display-inline\">Welcome</div>\n      <div className=\"my-4\" />\n      <div className=\"row\">\n        <div className=\"col-lg-6 col-md-6 col-sm-12\">\n          <p className=\"lead\">\n            <a className=\"btn btn-primary btn-lg\" href=\"#/scriptures\" role=\"button\">Study by Verse</a>\n          </p>\n        </div>\n        <div className=\"col-lg-6 col-md-6 col-sm-12\">\n          <p className=\"lead\">\n            <a className=\"btn btn-primary btn-lg\" href=\"#/topics\" role=\"button\">Study by Topic</a>\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Home\n","import React from 'react'\nimport noUiSlider from 'nouislider'\n\nimport PropTypes from 'prop-types'\nimport Verse from '../model/Verse'\nimport VerseHighlightContext from './VerseHighlightContext'\nimport ScriptureCache from '../firebase/ScriptureCache'\nimport Insight from '../model/Insight'\n\nfunction AddInsight({ verse, insight, setInsight, toggle }) {\n  const highlightContext = React.useContext(VerseHighlightContext)\n\n  const sliderRef = React.createRef()\n\n  const [isSubmitting, setSubmitting] = React.useState(false)\n\n  const scriptureCache = new ScriptureCache()\n\n  function handleSubmit() {\n    setSubmitting(true)\n\n    const i = new Insight(null, verse.getVerseId(), insight.text, insight.fragment, insight.source)\n\n    scriptureCache.saveNewInsight(i).then(function () {\n      setSubmitting(false);\n      toggle()\n    }).catch(function (err) {\n      console.error('An error occurred while saving insight: ', err)\n      setSubmitting(false);\n    })\n  }\n\n  React.useEffect(() => {\n    const lastWord = verse.text.split(' ').length + 1\n\n    const { current: sliderNode } = sliderRef\n\n    noUiSlider.create(sliderNode, {\n      start: [1, lastWord],\n      connect: true,\n      range: {\n        'min': 1,\n        'max': lastWord\n      },\n      step: 1\n    })\n\n    sliderNode.noUiSlider.on('update', function (values, handle) {\n      setInsight({...insight, fragment: [values[0] - 1, values[1] - 1]})\n      highlightContext.updateHighlight(values[0] - 1, values[1] - 1)\n    })\n\n    return () => sliderNode.noUiSlider.destroy()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <div>\n      <h4>New Insight</h4>\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"source-label\">Source Label</label>\n          <input type=\"text\" id=\"source-label\" className=\"form-control\" required\n            value={insight.source.label}\n            onChange={event => setInsight({...insight, source: {...insight.source, label: event.target.value}})}/>\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"source-link\">Source Link</label>\n          <input type=\"url\" id=\"source-link\" className=\"form-control\"\n            value={insight.source.link}\n            onChange={event => setInsight({...insight, source: {...insight.source, link: event.target.value}})}/>\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"phrase\">Phrase Highlight</label>\n          <div ref={sliderRef} />\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"insight-text\">Insight</label>\n          <textarea id=\"insight-text\" className=\"small form-control\" rows=\"10\" required\n            value={insight.text} onChange={event => setInsight({...insight, text: event.target.value})} />\n        </div>\n\n        <button type=\"button\" className=\"btn btn-danger mr-3\" onClick={toggle} disabled={isSubmitting}>Cancel</button>\n        <button type=\"submit\" className=\"btn btn-success\" disabled={isSubmitting}>Save</button>\n      </form>\n    </div>\n  )\n}\n\nAddInsight.propTypes = {\n  verse: PropTypes.instanceOf(Verse).isRequired,\n  insight: PropTypes.object.isRequired,\n  setInsight: PropTypes.func.isRequired,\n  toggle: PropTypes.func.isRequired\n}\n\nexport default AddInsight\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport ReactMarkdown from 'react-markdown'\n\nimport Insight from '../model/Insight'\nimport Verse from '../model/Verse'\nimport VerseHighlightContext from './VerseHighlightContext'\n\nfunction SingleInsight({verse, insight}) {\n  const highlightContext = React.useContext(VerseHighlightContext)\n\n  let phrase = verse.text.split(' ').slice(insight.fragment[0], insight.fragment[1]).join(' ')\n\n  let source = insight.source.label\n  if (insight.source.link !== undefined && insight.source.link !== '') {\n    source = <a className=\"text-danger\" href={insight.source.link} target=\"_blank\" rel=\"noopener noreferrer\">{insight.source.label}</a>\n  }\n\n  return (\n    <div className=\"insight m-1 p-1\"\n      onMouseEnter={() => highlightContext.updateHighlight(insight.fragment[0], insight.fragment[1])}\n      onMouseLeave={() => highlightContext.updateHighlight(0, 0)}>\n      {/* TODO: react-markdown to render this? */}\n      <div className=\"text-justify\">\n        <span className=\"text-danger pr-2\">({source})</span>\n        <span className=\"text-success pr-2\">{phrase}</span>\n        <ReactMarkdown source={insight.text} />\n        <br/>\n        {insight.created && <span className=\"text-secondary small float-right\">{insight.created.getMonth() + 1}/{insight.created.getDate()}/{insight.created.getFullYear()}</span>}\n      </div>\n    </div>\n  )\n}\n\nSingleInsight.propTypes = {\n  verse: PropTypes.instanceOf(Verse).isRequired,\n  insight: PropTypes.instanceOf(Insight).isRequired\n}\n\nexport default SingleInsight\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport Insight from '../model/Insight'\nimport LoadingBar from './LoadingBar'\nimport SingleInsight from './SingleInsight'\nimport Verse from '../model/Verse'\n\nfunction compareInsightsByFragment(a, b) {\n  function compareIdx(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0\n  }\n\n  let r = compareIdx(a.fragment[0], b.fragment[0])\n  if (r === 0) {\n    r = compareIdx(a.fragment[1], b.fragment[1])\n  }\n\n  return r\n}\n\nfunction InsightList({ verse, insights }) {\n\n  let insightContent;\n  if (insights === undefined) {\n    insightContent = <LoadingBar />\n  }\n  else {\n    insightContent = []\n    // Sort insights by fragment\n    insights.sort(compareInsightsByFragment)\n\n    let currentFragment = [0, 0]\n    for (let idx = 0; idx < insights.length; idx++) {\n      let i = insights[idx]\n      if (currentFragment[0] !== i.fragment[0] || currentFragment[1] !== i.fragment[1]) {\n        currentFragment = i.fragment\n        let phrase = verse.text.split(' ').slice(i.fragment[0], i.fragment[1]).join(' ')\n        insightContent.push(\n          <div key={i.fragment}>\n            <hr/>\n            <p className=\"text-primary font-italic\">\"{phrase}\"</p>\n          </div>\n        )\n      }\n\n      insightContent.push(<SingleInsight key={i.id} verse={verse} insight={i} />)\n    }\n  }\n\n  return (\n    <>\n      <h4 className=\"text-capitalize\">insights</h4>\n      {insightContent}\n    </>\n  )\n}\n\nInsightList.propTypes = {\n  verse: PropTypes.instanceOf(Verse).isRequired,\n  insights: PropTypes.arrayOf(PropTypes.instanceOf(Insight)),\n}\n\nexport default InsightList\n","import React from 'react'\n\nimport AddInsight from './AddInsight'\nimport Insight from '../model/Insight'\nimport InsightList from './InsightList'\nimport LoadingBar from './LoadingBar'\nimport ScriptureCache from '../firebase/ScriptureCache'\nimport SingleInsight from './SingleInsight'\nimport SingleVerse from './SingleVerse'\nimport useFirebaseUser from '../firebase/FirebaseUser'\nimport VerseHighlightContext from './VerseHighlightContext'\n\nfunction InsightListPage({ match: { params: { volume, book, chapter, verse: verseNumber } } }) {\n  const user = useFirebaseUser()\n\n  const [verse, setVerse] = React.useState()\n  const [insights, setInsights] = React.useState()\n  const [newInsight, setNewInsight] = React.useState({\n    source: {\n      label: '',\n      link: ''\n    },\n    text: '',\n    fragment: [0, 0]\n  })\n  const [adding, setAdding] = React.useState(false)\n  const [highlight, setHighlight] = React.useState({ first: 0, last: 0 })\n\n  const contextState = {\n    highlight,\n    updateHighlight: (f, l) => setHighlight({ first: f, last: l })\n  }\n\n  function toggleAdding() {\n    setAdding(!adding)\n  }\n\n  const scriptureCache = new ScriptureCache()\n\n  React.useEffect(() => {\n    scriptureCache.getVerse(volume, book, chapter, verseNumber, setVerse)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  React.useEffect(() => {\n    scriptureCache.getInsights(volume, book, chapter, verseNumber, setInsights)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [adding])\n\n  return (\n    <VerseHighlightContext.Provider value={contextState}>\n      <div className=\"row\">\n        <div className=\"col-lg-6 col-md-6 col-sm-12\">\n          <h4 className=\"text-capitalize\">{book.replace(/_/g, ' ')} {chapter}:{verseNumber}</h4>\n          <hr/>\n          <div className=\"sticky-top\">\n            {verse ? <SingleVerse verse={verse} /> : <LoadingBar />}\n            <hr/>\n            {!adding && verse && user.status === 'LOGGED_IN' && <button type=\"button\" className=\"btn btn-warning\" onClick={toggleAdding}>Add Insight</button>}\n            {adding && verse ? <AddInsight verse={verse} insight={newInsight} setInsight={setNewInsight} toggle={toggleAdding} /> : null}\n          </div>\n        </div>\n        <div className=\"col-lg-6 col-md-6 col-sm-12\">\n          {verse ? null : <LoadingBar />}\n          {!adding && verse ? <InsightList verse={verse} insights={insights} toggle={toggleAdding} /> : null}\n          {adding && verse ?\n            <>\n            <h4>Preview</h4>\n            <SingleInsight verse={verse} insight={new Insight(null, verse.getVerseId(), newInsight.text, newInsight.fragment, newInsight.source)} />\n            </>\n           : null}\n        </div>\n      </div>\n    </VerseHighlightContext.Provider>\n  )\n}\n\nexport default InsightListPage\n","import React from 'react';\nimport { Redirect } from 'react-router-dom'\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport firebase from 'firebase/app';\nimport useFirebaseUser from '../firebase/FirebaseUser';\n\nconst uiConfig = {\n  signInFlow: 'popup',\n  signInOptions: [\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID\n  ],\n  callbacks: {\n    signInSuccessWithAuthResult: () => false\n  }\n}\n\nfunction LoginScreen(props) {\n  const userState = useFirebaseUser()\n\n  React.useEffect(() => {\n    if (userState.status === 'UNAUTHORIZED') {\n      userState.user.delete().catch((error) => {\n        console.log(\"An error occurred while deleting an unauthorized user. \", error);\n      })\n    }\n  }, [userState])\n\n  let returnTo = props.location.search.split('=')[1]\n  if (returnTo === undefined || returnTo === '') {\n    returnTo = '/'\n  }\n\n  if (userState.status === 'UNAUTHORIZED') {\n    return <Redirect to=\"/unauthorized\" />\n  }\n  else if (userState.status === 'LOGGED_IN') {\n    return <Redirect to={returnTo} />\n  }\n  else {\n    return (\n      <div>\n        <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\n      </div>\n    )\n  }\n}\n\nexport default LoginScreen\n","import React from 'react';\nimport firebase from 'firebase/app';\nimport useFirebaseUser from '../firebase/FirebaseUser';\n\nfunction UserStatus() {\n\n  const userState = useFirebaseUser()\n\n  if (userState.status === 'LOGGED_IN') {\n    return (\n      <form className=\"form-inline my-2 my-lg-0\">\n        <span className=\"text-light my-2 mr-sm-2\">{userState.user.email}</span>\n        <button className=\"btn btn-success my-2 my-sm-0\" onClick={() => firebase.auth().signOut()} type=\"submit\">Logout</button>\n      </form>\n    )\n  }\n\n  return (\n    <></>\n  )\n}\n\nexport default UserStatus\n","import React from 'react'\nimport UserStatus from './UserStatus'\n\nfunction Navbar() {\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary\">\n      <div className=\"container\">\n        <a className=\"navbar-brand\" href=\"#/\">Enjoy the Scriptures</a>\n\n        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n          <ul className=\"navbar-nav mr-auto\">\n            <li className=\"nav-item\">\n              <a className=\"nav-link\" href=\"#/scriptures\">Scriptures</a>\n            </li>\n            <li className=\"nav-item\">\n              <a className=\"nav-link\" href=\"#/topics\">Topics</a>\n            </li>\n            <li className=\"nav-item\">\n              <a className=\"nav-link\" href=\"#/about\">About</a>\n            </li>\n          </ul>\n          <UserStatus />\n        </div>\n      </div>\n    </nav>\n  )\n}\n\nexport default Navbar\n","import React from 'react'\n\nfunction NotFound() {\n  return (\n    <div className=\"alert alert-warning\">\n      <h4 className=\"alert-heading\">Not Found</h4>\n      <p className=\"mb-0\">The requested page does not exist.</p>\n      <a href=\"#/\" className=\"alert-link\">Return Home</a>\n    </div>\n  )\n}\n\nexport default NotFound\n","import React from 'react'\n\nfunction Unauthorized() {\n  return (\n    <div className=\"alert alert-danger\">\n      <h4 className=\"alert-heading\">User Not Found</h4>\n      <p className=\"mb-0\">You are not authorized to access this resource.</p>\n      <a className=\"alert-link\" href=\"#/\">Return Home</a>\n    </div>\n  )\n}\n\nexport default Unauthorized\n","import React from 'react'\n\nimport LoadingBar from './LoadingBar'\nimport ScriptureCache from '../firebase/ScriptureCache'\n\nfunction buildButton(label) {\n  const classes = \"text-capitalize text-white btn btn-success btn-lg\"\n  const href = '#/scriptures/' + label\n\n  return (\n    <div key={href} className=\"col-sm text-center text-nowrap p-3\">\n      <a href={href} role=\"button\" className={classes}>{label.replace(/_/g, ' ')}</a>\n    </div>\n  )\n}\n\nfunction VolumeListPage() {\n  const [volumes, setVolumes] = React.useState([])\n  const scriptureCache = new ScriptureCache()\n\n  React.useEffect(() => {\n    scriptureCache.getVolumes(setVolumes)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  let content;\n  if (volumes.length === 0) {\n    content = <LoadingBar />\n  }\n  else {\n    content = volumes.map(buildButton)\n  }\n\n  return (\n    <div>\n      <h1>Scriptures</h1>\n\n      <div className=\"row\">\n        {content}\n      </div>\n    </div>\n  )\n}\n\nexport default VolumeListPage\n","import React from 'react'\nimport { HashRouter, Route, Switch, Redirect } from 'react-router-dom'\n\nimport About from './About'\nimport Background from './Background'\nimport BookListPage from './BookListPage'\nimport Breadcrumb from './Breadcrumb'\nimport ChapterListPage from './ChapterListPage'\nimport ChapterTextPage from './ChapterTextPage'\nimport Footer from './Footer'\nimport Home from './Home'\nimport InsightListPage from './InsightListPage'\nimport LoginScreen from './LoginScreen'\nimport Navbar from './Navbar'\nimport NotFound from './NotFound'\nimport Unauthorized from './Unauthorized'\nimport VolumeListPage from './VolumeListPage'\n\nfunction App() {\n  return (\n    <HashRouter basename='/'>\n      <div className=\"App\">\n        <Navbar />\n        <Route path='/' component={Breadcrumb} />\n\n        <Route exact path=\"/\" component={Background} />\n\n        {/* <div className=\"py-2\" style={{background: 'linear-gradient(to bottom, #e9ecef, white)'}}></div> */}\n\n        <div className=\"container py-5\">\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <Route exact path=\"/about\" component={About} />\n\n            {/* Scripture Notebook */}\n            <Route exact path=\"/scriptures\" component={VolumeListPage} />\n            <Route exact path=\"/scriptures/:volume\" component={BookListPage} />\n            <Route exact path=\"/scriptures/:volume/:book\" component={ChapterListPage} />\n            <Route exact path=\"/scriptures/:volume/:book/:chapter\" component={ChapterTextPage} />\n            <Route exact path=\"/scriptures/:volume/:book/:chapter/:verse\" component={InsightListPage} />\n\n            {/* Topical Index */}\n            <Route exact path=\"/topics\" />\n\n            {/* Login Related */}\n            <Route exact path=\"/login\" component={LoginScreen} />\n            <Route exact path=\"/unauthorized\" component={Unauthorized} />\n\n            {/* 404 */}\n            <Route exact path=\"/not_found\" component={NotFound} />\n            <Redirect to=\"/not_found\" />\n          </Switch>\n        </div>\n\n        {/* Invisble placeholder to prevent the sticky footer from covering content */}\n        <div className=\"my-5\"></div>\n\n        <Footer />\n      </div>\n    </HashRouter>\n  );\n}\n\nexport default App\n","import 'bootstrap/dist/css/bootstrap.min.css'\nimport 'bootstrap/dist/js/bootstrap.bundle.min.js'\nimport 'nouislider/distribute/nouislider.min.css'\n\nimport './ets.css'\nimport './litera.min.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './components/App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}